{"version":3,"file":"2-snackerbar.js","sources":["../src/js/2-snackerbar.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../css/styles.css';\n\nconst form = document.querySelector('.form');\n\nconst toastOpts = {\n  position: 'topRight',\n  timeout: 3000,\n  closeOnClick: true,\n};\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const delay = Number(form.elements.delay?.value);\n  const state = form.elements.state?.value;\n\n  if (!Number.isFinite(delay) || delay < 0) {\n    iziToast.error({\n      ...toastOpts,\n      title: 'Помилка',\n      message: 'Вкажи коректну невід’ємну затримку (мс).',\n    });\n    return;\n  }\n  if (state !== 'fulfilled' && state !== 'rejected') {\n    iziToast.error({\n      ...toastOpts,\n      title: 'Помилка',\n      message: 'Оберіть, чи має проміс виконатися чи відхилитися.',\n    });\n    return;\n  }\n\n  const submitBtn = form.querySelector('[type=\"submit\"]');\n  if (submitBtn) submitBtn.disabled = true;\n\n  const promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      state === 'fulfilled' ? resolve(delay) : reject(delay);\n    }, delay);\n  });\n\n  promise\n    .then(d => {\n      iziToast.success({\n        ...toastOpts,\n        title: 'Готово',\n        message: `✅ Fulfilled promise in ${d}ms`,\n      });\n    })\n    .catch(d => {\n      iziToast.error({\n        ...toastOpts,\n        title: 'Відхилено',\n        message: `❌ Rejected promise in ${d}ms`,\n      });\n    })\n    .finally(() => {\n      form.reset();\n      if (submitBtn) submitBtn.disabled = false;\n    });\n});\n"],"names":["form","toastOpts","event","delay","state","iziToast","submitBtn","resolve","reject","d"],"mappings":"wIAIA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAY,CAChB,SAAU,WACV,QAAS,IACT,aAAc,EAChB,EAEAD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAQ,OAAOH,EAAK,SAAS,OAAO,KAAK,EACzCI,EAAQJ,EAAK,SAAS,OAAO,MAEnC,GAAI,CAAC,OAAO,SAASG,CAAK,GAAKA,EAAQ,EAAG,CACxCE,EAAS,MAAM,CACb,GAAGJ,EACH,MAAO,UACP,QAAS,0CACf,CAAK,EACD,MACF,CACA,GAAIG,IAAU,aAAeA,IAAU,WAAY,CACjDC,EAAS,MAAM,CACb,GAAGJ,EACH,MAAO,UACP,QAAS,mDACf,CAAK,EACD,MACF,CAEA,MAAMK,EAAYN,EAAK,cAAc,iBAAiB,EAClDM,IAAWA,EAAU,SAAW,IAEpB,IAAI,QAAQ,CAACC,EAASC,IAAW,CAC/C,WAAW,IAAM,CACfJ,IAAU,YAAcG,EAAQJ,CAAK,EAAIK,EAAOL,CAAK,CACvD,EAAGA,CAAK,CACV,CAAC,EAGE,KAAKM,GAAK,CACTJ,EAAS,QAAQ,CACf,GAAGJ,EACH,MAAO,SACP,QAAS,0BAA0BQ,CAAC,IAC5C,CAAO,CACH,CAAC,EACA,MAAMA,GAAK,CACVJ,EAAS,MAAM,CACb,GAAGJ,EACH,MAAO,YACP,QAAS,yBAAyBQ,CAAC,IAC3C,CAAO,CACH,CAAC,EACA,QAAQ,IAAM,CACbT,EAAK,MAAK,EACNM,IAAWA,EAAU,SAAW,GACtC,CAAC,CACL,CAAC"}